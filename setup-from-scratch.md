# Setup your terrain from scratch

Everything has been made so you can start using Ultimate Terrains in a few minutes only. However, you will need some time to understand all parameters and to learn how to create the terrain you want.

Let's start with a blank, new scene. Please, create a new scene (File > New scene).

Then just add a player to your scene. You can drag & drop the FreeFlyPlayer prefab from uTerrains/Scenes/Misc folder (don't forget to remove the default scene camera if you do so). If you use your own prefab, just be sure to disable gravity (or to add a platform below it) otherwise your player will fall while the terrain has not been generated yet. We'll see later how we can prevent this.

All right, let's begin!

Add a new ultimate terrain to your scene: in the top menu of Unity, click on _Tools > uTerrains > Add terrain_. This will open a window where you can change the base settings of the new terrain. Don't worry, you will be able to change any of these settings later in the Ultimate Terrain inspector.

[![](https://uterrains.com/wp-content/uploads/2018/10/newTerrain-300x154.png)](https://uterrains.com/wp-content/uploads/2018/10/newTerrain.png)

Drag & drop your player object (this can be the camera) into the _Player Object_ field.

Drag & drop the material you want to use in the _Main Material_ field. You can use the included materials under Assets/uTerrains/Materials/Terrain.

Click OK.

You should now see a new object (named 'uTerrain' by default) in your scene. Select it to display the terrain inspector.

[![](https://uterrains.com/wp-content/uploads/2018/10/uTerrainHierachy-300x160.png)](https://uterrains.com/wp-content/uploads/2018/10/uTerrainHierachy.png)

As you see, the uTerrain inspector has 6 main tabs:

*   Voxel Types
*   Biomes
*   Scenery
*   Editor Tool
*   Global Settings
*   Documentation

Before going further, **you have to define a layer for chunks**. Go to the 'Global Settings' tab. You'll find a parameter named "Chunk layer" at the bottom of the 'General Settings' section of this tab. Please create a new layer and select it. Leave all other settings as-is.

Now let's go back to the Voxel Types tab.

## Voxel Types

[![](https://uterrains.com/wp-content/uploads/2018/10/voxeltypestab01-845x1024.png)](https://uterrains.com/wp-content/uploads/2018/10/voxeltypestab01.png)

At the top of Voxel Types section, you can add one or more Terrain Materials. They are the material(s) that will be used on the terrain. You should see the material you've selected a few minutes ago in the Create Terrain window.

Just below, you can configure global parameters of grass and add one or more Grass Materials. As you can imagine, they are the materials that will be used for grass. We'll leave it empty for now.

Below this, you can add one or more Voxel Types. Typically, voxel types could be 'Grass', 'Rocks', 'Snow', 'Forest ground' etc. It will more or less match the different textures of your terrain.  
In the end, a voxel type is just a set of parameters. Indeed, each voxel type must specify:

*   a Name which must be unique. This parameter is important as it will allow you to reference it in biomes (that we'll cover after).
*   a Material Index corresponding to the index of the material to be used by voxels of this type. Remeber the Materials you added right before? This is about it.
*   a Priority which must be unique. In case there are several candidates for a voxel, the one with highest priority will be chosen over the others.
*   the Blockiness which determines if voxel of this type will look more or less cubical.
*   the VoxelTypeFunction which is a script that determines the color of vertices generated by voxels of this type. The default one simply returns a predetermined color that you have to specify in the 'Vertex Color' field right below.
*   then, you can choose to enable/disable grass on this type of voxels. For now, we'll leave it disabled.
*   finally, once you will have defined some details and trees (we'll see it later), you'll be able to choose which details & trees can be spawned on this type of voxels.

Your terrain should already have one voxel type that has been created for you. Change its name (let's say, "My Voxel Type") and leave the other values as-is.

[![](https://uterrains.com/wp-content/uploads/2018/10/firstVoxelType-300x251.png)](https://uterrains.com/wp-content/uploads/2018/10/firstVoxelType.png)

You can add as many voxel types as you want, but for now, one is enough.

## Biomes

Move now to the Biomes tab. This is where you define how your terrain gets generated.

[![](https://uterrains.com/wp-content/uploads/2018/10/biomesTab-204x300.png)](https://uterrains.com/wp-content/uploads/2018/10/biomesTab.png)

## Preview

The first section of the Biomes tab is called 'Preview'.

[![](https://uterrains.com/wp-content/uploads/2018/10/preview-300x112.png)](https://uterrains.com/wp-content/uploads/2018/10/preview.png)

From there, you can generate the terrain within the editor and watch the result in the scene view, just like with a standard Unity terrain. The 'Hot Reload' button allows you to re-generate the terrain to see more quickly how your biomes configuration affects it. It is faster than stopping and re-starting the whole terrain generation again, but it is limited and doesn't refresh vegetation such as trees.

For now, no biome as been created, so our terrain cannot be generated. Move on to the section right below, the 'Biome Selector'.

##### Biome Selector

Ultimate Terrains can handle multiple biomes on a single terrain. In this tutorial, we'll just create a simple terrain with only one biome.

You have to fill the 'Biome Selector' field. You can notice there is an error displayed in the inspector (just below this field) that tells you no script has been selected yet. The terrain cannot even start without it.

[![](https://uterrains.com/wp-content/uploads/2018/10/biomeSelector-300x71.png)](https://uterrains.com/wp-content/uploads/2018/10/biomeSelector.png)

As its name suggests, a Biome Selector tells Ultimate Terrains what biome should be used at a given world position. By using some noise functions (such as Perlin), altitude, or whatever you'd like, you can spread biomes procedurally. A very common example is to select biomes based on the altitude, like having one under-water biome and one land biome.

Anyway, for now as we said, we just want a single biome. Click on the field to select a script and search for 'UniqueBiomeSelectorSerializable'. Choose it.

You may have noticed there is a 'UniqueBiomeSelector' script and a 'UniqueBiomeSelectorSerializable' script. The first one is the actual implementation (doing the job at runtime) while the second one is in charge of displaying the editor GUI proper to this script (if any) and save its fields value. This is why in the editor you will always choose the scripts that end with 'Serializable'.

The UniqueBiomeSelector is the most simple selector you can imagine: it always returns the first biome defined on your terrain. It doesn't have any parameter.

##### Create a biome

All right, you are now ready to create your first biome. Look at the next section of the Biomes tab, simply called 'Biomes'.

[![](https://uterrains.com/wp-content/uploads/2018/10/biomeList-300x112.png)](https://uterrains.com/wp-content/uploads/2018/10/biomeList.png)

One biome as already been added by default, but it has no name yet. Give it a name.  
Note: you can click on the 'Add biome' button to add more biomes to your terrain, but we don't cover multiple biomes here.

Then, click on 'Edit Biome'. This opens a new windows that probably raises some questions and needs some explanation!

Before going further, please resize the window so you can view the whole picture.  
You should see a graph with these different nodes:

*   3D position
*   2D position
*   2D Generators
*   3D Generators
*   Final Combiner
*   and Voxel.

[![](https://uterrains.com/wp-content/uploads/2018/10/biomeEditor-1024x422.png)](https://uterrains.com/wp-content/uploads/2018/10/biomeEditor.png)

It is important to understand that this graph represents the workflow of voxel generation.

You have to read it from left to right:

1.  we start by a voxel 3D position (x, y, z coordinates) as well as its 2D position (x, z coordinates)
2.  the 2D position is the input of 2D values generators (if any) in the 2D Generators node. For example, this can be 2D Perlin noise like Perlin(x, z). 2D values generators are commonly used to create the ground of a classical height-based terrain (mountains, etc.).
3.  the 3D position is the input of 3D values generators (if any) in the 3D Generators node. For example, this can be 3D Perlin noise like Perlin(x, y, z). 3D values generators can be used to create caves, overhangs or floating islands for example.
4.  all values generated by 2D & 3D generators, as well as the voxel 3D position, are the input of the 'Ultimate Combiner' which uses all these values to finally set the definitive voxel value and type (you know, the voxel type we talked before).
5.  as a result, a voxel gets generated.

Ultimate Terrains comes with some 2D generators, 3D generators and Combiners so you can generate your terrain without the need to implement them by yourself. However, note that you have the possibility to implement your own ones. This makes Ultimate Terrains highly extensible and extremely powerful.

This is just a getting-started guide, so I won't deep dive about this here. If you want to know more (which I recommend if you want to get the max out of uTerrains), go to "Terrain generation / Biomes" section of this documentation.

Let's setup a minimalistic biome.

In the '2D Generators' node, click the field to select a 2D Master script (see "2D Master" section of this documentation for more info). Select 'Default2DMasterSerializable'.  
Click on 'Add 2D generator module' just below. Then, select 'HeterogeneousMultiFractal2DGeneratorSerializable'.  
For frequency, set 0.001 and for scale, set 80.

In the '3D Generators' node, click the field to select a 3D Master script. Select 'Default3DMasterSerializable'.

In the 'Ultimate Combiner' node, click the field to select a Combiner script (see "Final Combiner" section of this documentation for more info). Select 'BasicHeightmapCombinerSerializable'.  
In the voxel type name field, write the name of the voxel type you added previously (that should be "My Voxel Type").

Save your scene (Ctrl+S) and close the window.

### First run

Your terrain is ready to run. Press 'Play' and wait for the terrain to be generated. If you used FreeFlyPlayer prefab, it will probably raise an error because it is missing some setup, but you can just ignore it for now.

You should see your terrain. If you don't see anything, this is probably because the camera is below the ground of your terrain. Set its position Y to 300 for example. You can also move the scene-view camera to look at the terrain.

Stop it for now. The terrain disappears. Indeed, the terrain only exists at runtime. You can also create and edit the terrain from the editor without the need to press Play. To do so, go to 'Editor Tool' tab and enable 'Generate & display terrain in scene view'. Wait for the terrain to be generated. Once you're done, you can disable it to stop terrain updates within the editor.

[![](https://uterrains.com/wp-content/uploads/2018/10/editorToolTab-300x198.png)](https://uterrains.com/wp-content/uploads/2018/10/editorToolTab.png)

Each time you change terrain configuration, remember to reload it, because it is not automatically updated with new parameters until you restart it. Also, many parameters such as global settings cannot be edited while the terrain is displayed in the scene view.

Now, clear the terrain by disabling 'Generate & display terrain in scene view' and go to the Biomes tab again. Click on 'Edit Biome', and change the frequency value of the 2D generator module from 0.001 to 0.005. Press Play to generate the terrain. What do you see? What did it change?  
The mountains and the valleys are closer to each others. Actually, the look of your terrain has completely changed, just by modifying this little parameter. This illustrates how the biome configuration is important. It is the heart of your terrain configuration.

### Adding grass

Ultimate Terrains comes with a simple but powerful grass generator. Grass is generated depending on the voxel type, which allows to add different kind of grass to different parts of your terrain and to choose where to put grass and where not to put it.

Go to Voxel Types tab, scroll down to your voxel type and check the 'Enable grass' checkbox (you may have to unfold the voxel type by clicking on the little arrow at its left). New parameters appears to configure the grass.  
You can leave all the values as-is for now.

[![](https://uterrains.com/wp-content/uploads/2018/10/grass-232x300.png)](https://uterrains.com/wp-content/uploads/2018/10/grass.png)

At the top of the Voxel types tab, just below Terrain Materials, you will find the 'Grass Global Settings' section, and inside it, the 'Grass Materials' sub-section. You need at least one grass material. Click on 'Add Grass Material' and select 'WavingGrass01' material.

[![](https://uterrains.com/wp-content/uploads/2018/10/grassSettings-300x124.png)](https://uterrains.com/wp-content/uploads/2018/10/grassSettings.png)

Press Play to see your terrain with grass on it. When you're done, Stop.

Now, add a new grass material and select 'WavingGrass02'.  
In your voxel type, under grass parameters, click 'Add grass material' and set the value of 'Grass material index 1' field to 1 (which is the index of the second grass material you've just added: WavingGrass02).

Then, set the value of 'Probability 0' to 0.5.

Press Play again. You should now see the grass is a mix of the two grass materials. This allows to add different kind of grass very easily in order to get a nice result.

### Details objects

You have some grass, but you'd like to add some other plants or some stones or mushrooms or whatever details to your terrain. This is what details object are made for. In Ultimate Terrains, details objects are exclusively GPU instanced to avoir GameObjects overhead.

Go to the 'Scenery' tab, and 'Details' sub-tab.

Click on 'Add detail group'. A details group may be a set of stones, or a set of different plants for example. As you see, you can have one or more details objects per details group. A details object is defined by a mesh and a material. You cannot put gameobjects prefabs directly.

Give a name to your new details group (for example, "Stones"), and change its density to 2.

Then, go to Assets/uTerrains/Scenes/Misc/Rock_Set/Rock. There are an imported rock model, its texture and its material. Unfold the model 'Rock' and drag & drop its mesh into the 'Mesh 0' field of the detail object. Same thing for the material: drag & drop the 'RockMaterial' to the 'Material 0' field of the detail object.

Now you have a simple details group defined, containing a single detail object.

If you press Play, you will see that nothing changed! This is because you have to enable the details group on a voxel type to see it. Go back to the 'Voxel types' tab, and check the checkbox called 'Enable details 'Stones'.

Now, press Play. Thousands of little stones are spread over the ground! These stone don't look so good, I agree, but this is just an example. It's up to you now to use this for plants, wood sticks, mushrooms or whatever.

### Trees

All right, your terrain looks better and better, but it is missing one important thing: trees.

Trees are spawned independently from terrain generation. Thehe job is done in parallel of terrain generation. This is very fast and does not slow done the terrain.

Trees are spawned as gameobjects (not GPU instanced) so they can have colliders and so on. However, it is up to you to ensure that your trees has some LOD system. Ultimate Terrains won't generate billboards for you as the standard Unity terrain does. This is why I recommend to use SpeedTrees: they come with LODs and colliders out of the box.

Got to the 'Scenery' tab and 'Trees' sub-tab.

The first parameter 'Max LOD with trees' controls the distance (in term of terrain LOD) at which trees will be spawned. Set this value to 4.

The second parameter, 'Max trees spawned per frame', controls how many trees (at maximum) should be spawned per frame. 10 is generally a good value as it prevents lags.

Tree density is very important as it controls the average distance between two trees. This is more the inverse of the density actually, because the bigger it is, the less trees will be spawned. Set this value to 20.

Density noise controls the frequency at which the tree density varies. Indeed, trees are spread thanks to this noise to make it more realistic.

Finally, 'Trees height' represents the average height of a tree. This setting is extremely important as Ultimate Terrains will make sure there is enough vertical space before adding a tree somewhere. Ultimate Terrains also uses this internaly as a step to find where is the surface, so the lower it is, the longer it will be to spawn trees. Avoid to set a value lower than 10.

Below these settings, there is some space for Trees Groups.

Trees groups are similar to details groups, except that they contains a list of gameobjects (instead of mesh/material pairs). Click now on 'Add tree group', give it a name and drag & drop a tree object in the 'Tree 0' field. You can take a tree from SpeedTree that is available in the Unity's Environment package (menu Assets > Import package... > Environment).

Like for details, you have to enable the tree group on your voxel type otherwise it won't be used and no tree will be spawned.  
So go to 'Voxel Types' tab, and choose the tree group you've just created in the 'Tree group' dropdown of your voxel type.

Press play and see the result. You might be surprised to see that trees are spawned before the terrain has finished to be generated. This is because trees system does its job independently from terrain generation.

### What you've learned

This is the end of the Getting Started tutorial. You've learned how to setup a basic terrain from scratch, defining a voxel type, a biome and adding some grass, details and trees to it. You may still have a lot of questions (maybe even more than before!). You can deep dive each topic by reading the rest of the documentation.